{
  "type": "json_schema",
  "jsonSchema": {
    "name": "screenplay",
    "strict": true,
    "schema": {
      "type": "object",
      "properties": {
        "limitations": {
          "type": "object",
          "properties": {
            "story_pitch": {
              "type": "number",
              "description": "Max words for the story pitch",
              "default": 200
            },
            "min_lines_per_dialog": {
              "type": "number",
              "description": "Min lines per dialog",
              "default": 50
            },
            "exposition": {
              "type": "number",
              "description": "Max words for the exposition"
            },
            "character_description": {
              "type": "number",
              "description": "Max words for character descriptions"
            },
            "scene_description": {
              "type": "number",
              "description": "Max words for scene descriptions"
            },
            "transition": {
              "type": "number",
              "description": "Max words for transitions"
            },
            "dialog_text": {
              "type": "number",
              "description": "Max words for dialog text"
            }
          },
          "required": [
            "story_pitch",
            "exposition",
            "character_description",
            "scene_description",
            "transition",
            "dialog_text"
          ],
          "additionalProperties": false
        },
 "default_screenplay_language": {
          "type": "string",
          "description": "Default screenplay language for anything excluding the dialogs",
          "default": "English"
        }, 
        "title": {
          "type": "string",
          "description": "Title of the screenplay"
        },
        "story_pitch": {
          "type": "string",
          "description": "Summary of the story's unique aspects"
        },
        "exposition": {
          "type": "string",
          "description": "Summary providing context for the story"
        },
        "dialog_languages": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Languages spoken in the screenplay"
        },
        "cast": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "description": "Character's name"
              },
              "description": {
                "type": "string",
                "description": "Character's personality description"
              },
              "role": {
                "type": "string",
                "description": "Character's role in the story"
              },
              "language": {
                "type": "string",
                "description": "Primary language spoken by the character"
              }
            },
            "required": ["name", "description", "role", "language"],
            "additionalProperties": false
          }
        },
        "scenes": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "scene_heading": {
                "type": "string",
                "description": "Scene location and time (INT/EXT)"
              },
              "scene": {
                "type": "string",
                "description": "Description of the scene context"
              },
              "transition": {
                "type": "string",
                "description": "Description of scene transitions"
              },
              "sound_effects": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Sound effects for the scene"
              },
              "music_cues": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Music cues for the scene"
              },
              "camera_directions": {
                "type": "string",
                "description": "Directions for camera work"
              },
              "sound_directions": {
                "type": "string",
                "description": "Directions for sound engineering"
              },
              "lighting_directions": {
                "type": "string",
                "description": "Directions for lighting setup"
              },
              "director_notes": {
                "type": "string",
                "description": "Additional notes for the director"
              },
              "visual_style": {
                "type": "string",
                "description": "Visual tone of the scene"
              },
              "dialog": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "character": {
                      "type": "string",
                      "description": "Character speaking"
                    },
                    "language": {
                      "type": "string",
                      "description": "current dialog language"
                    },
                    "text": {
                      "type": "string",
                      "description": "current spoken dialog text"
                    },
      "translation": {
                      "type": "string",
                      "description": "the current dialog translation based on default_screenplay_language"
                      
                    },
                    "visual": {
                      "type": "string",
                      "description": "Visual elements accompanying the dialog"
                    },
                    "emotion": {
                      "type": "string",
                      "description": "Character's emotional state"
                    },
                    "action": {
                      "type": "string",
                      "description": "Action related to the dialog"
                    },
                    "parenthetical": {
                      "type": "string",
                      "description": "How the dialog should be delivered"
                    }
                  },
                  "required": [
                    "character",
                    "language",
                    "text",
                    "translation",
                    "visual",
                    "emotion",
                    "action",
                    "parenthetical"
                  ],
                  "additionalProperties": false
                }
              }
            },
            "required": [
              "scene_heading",
              "scene",
              "transition",
              "sound_effects",
              "music_cues",
              "camera_directions",
              "sound_directions",
              "lighting_directions",
              "director_notes",
              "visual_style",
              "dialog"
            ],
            "additionalProperties": false
          }
        }
      },
      "required": [
        "limitations",
        "default_screenplay_language",
        "story_pitch",
        "exposition",
        "dialog_languages",
        "cast",
        "scenes"
      ],
      "additionalProperties": false
    }
  }
}
